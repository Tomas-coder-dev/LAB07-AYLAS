<Window x:Class="Lab07Demo.Invoice"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Lab07Demo"
        mc:Ignorable="d"
        Title="Gestión de Facturas" Height="480" Width="850" Background="#F6F8FA">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Formulario cabecera de factura -->
        <Border Margin="16" Padding="16" BorderBrush="#1976D2" BorderThickness="2" CornerRadius="10" Background="White" Grid.Row="0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="170"/>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Cliente -->
                <TextBlock Text="Cliente ID:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="Bold" Grid.Column="0"/>
                <TextBox x:Name="txtCustomerID" Grid.Column="1" Width="140" Margin="0,0,8,0" />

                <!-- Fecha -->
                <TextBlock Grid.Column="3" Text="Fecha:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="Bold"/>
                <DatePicker x:Name="dateInvoice" Grid.Column="4" Width="135" Margin="0,0,8,0" />

                <!-- Total -->
                <TextBlock Grid.Column="6" Text="Total:" VerticalAlignment="Center" Margin="0,0,8,0" FontWeight="Bold"/>
                <TextBox x:Name="txtTotal" Grid.Column="7" Width="85" Margin="0,0,8,0"/>

                <!-- Botones -->
                <StackPanel Grid.Column="8" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Name="Read" Content="Mostrar todo" Click="Read_Click" Margin="8,0,0,0" Width="110"
                        Background="#E3F2FD" Foreground="#1976D2" FontWeight="Bold" />
                    <Button x:Name="btnCreateOrUpdate" Content="Crear" Click="CreateOrUpdate_Click" Width="90"
                        Background="#BBDEFB" Foreground="#1976D2" FontWeight="Bold" Margin="8,0,0,0" />
                    <Button x:Name="btnCancelEdit" Content="Cancelar" Click="CancelEdit_Click" Width="80"
                        Visibility="Collapsed" Margin="8,0,0,0"
                        Background="#FFCDD2" Foreground="#D32F2F" FontWeight="Bold" />
                </StackPanel>
            </Grid>
        </Border>

        <!-- Grilla de facturas -->
        <Border Grid.Row="1" Margin="16" Padding="8" Background="White" BorderBrush="#1976D2" BorderThickness="2" CornerRadius="8">
            <DataGrid x:Name="ItemsDataGrid" Margin="0"
                  AutoGenerateColumns="False"
                  SelectionMode="Single"
                  IsReadOnly="True"
                  SelectionUnit="FullRow"
                  RowBackground="#E3F2FD"
                  AlternatingRowBackground="#F6F8FA"
                  HeadersVisibility="Column"
                  GridLinesVisibility="Horizontal"
                  FontSize="15"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding InvoiceID}" Width="60"/>
                    <DataGridTextColumn Header="Cliente" Binding="{Binding CustomerID}" Width="100"/>
                    <DataGridTextColumn Header="Fecha" Binding="{Binding Date, StringFormat='dd/MM/yyyy HH:mm'}" Width="160"/>
                    <DataGridTextColumn Header="Total" Binding="{Binding Total, StringFormat='C2'}" Width="120"/>
                    <DataGridTemplateColumn Header="Acciones" Width="170">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button Content="Editar" Margin="4,0" Padding="10,2" Click="Edit_Click"
                                            Background="#C8E6C9" Foreground="#388E3C" FontWeight="Bold"
                                            BorderBrush="#388E3C" BorderThickness="1"/>
                                    <Button Content="Eliminar" Margin="4,0" Padding="10,2" Click="Delete_Click"
                                            Background="#FFCDD2" Foreground="#B71C1C" FontWeight="Bold"
                                            BorderBrush="#B71C1C" BorderThickness="1"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Border>
    </Grid>
</Window>